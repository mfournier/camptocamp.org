<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
	<link rel="stylesheet" type="text/css" media="screen" href="mfbase/ext/resources/css/ext-all.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="mfbase/ext/resources/css/xtheme-gray.css" />
</head>
<body>
    <div id="coordsForm"></div>
    <script type="text/javascript" src="mfbase/ext/adapter/ext/ext-base.js"></script>
    <script type="text/javascript" src="mfbase/ext/ext-all.js"></script>
    <script type="text/javascript" src="build/c2corgApi.js"></script>
    <script type="text/javascript" src="MapFishApi/js/EPSG21781.js"></script>

	<script type="text/javascript">
Ext.onReady(function() {
    var simple = new Ext.FormPanel({
        labelWidth: 75, // label settings here cascade unless overridden
        frame:true,
        title: 'Simple Form',
        bodyStyle:'padding:5px 5px 0',
        width: 350,
        defaults: {width: 230},
        defaultType: 'textfield',

        items: [{
                fieldLabel: 'X',
                name: 'x',
                value: 600000,
                allowBlank:false
            },{
                fieldLabel: 'Y',
                name: 'y',
                value: 200000,
                allowBlank:false
            }
        ],

        buttons: [{
            text: 'Convert',
            handler: function(button, evt) {
                var values = simple.getForm().getValues();
                var lonlat = new OpenLayers.LonLat(values.x, values.y);
                var epsg21781 = new OpenLayers.Projection("EPSG:21781");
                var epsg4326 = new OpenLayers.Projection("EPSG:4326");
                lonlat.transform(epsg21781, epsg4326);
                console.log(lonlat);
                //Ext.Msg.alert('Conversion', 'Coords are :');
            }
        }]
    });

    simple.render(document.body);  
});
	</script>

</body>
</html>